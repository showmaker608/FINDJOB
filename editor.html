<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>个人主页编辑器</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
            background: #f5f5f5;
            padding: 20px;
            font-size: 16px;
        }

        .editor-container {
            max-width: 1400px;
            margin: 0 auto;
            background: white;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            overflow: hidden;
        }

        .editor-header {
            background: #333;
            color: white;
            padding: 25px;
            text-align: center;
        }

        .editor-header h1 {
            margin-bottom: 10px;
            font-size: 28px;
        }

        .editor-header p {
            font-size: 16px;
        }

        .editor-tabs {
            display: flex;
            background: #f8f9fa;
            border-bottom: 1px solid #dee2e6;
        }

        .tab-btn {
            flex: 1;
            padding: 18px;
            border: none;
            background: none;
            cursor: pointer;
            font-size: 16px;
            transition: all 0.3s;
        }

        .tab-btn.active {
            background: white;
            border-bottom: 3px solid #007bff;
            color: #007bff;
        }

        .tab-content {
            display: none;
            padding: 35px;
        }

        .tab-content.active {
            display: block;
        }

        .form-group {
            margin-bottom: 30px;
        }

        .form-group label {
            display: block;
            margin-bottom: 10px;
            font-weight: 600;
            color: #333;
            font-size: 16px;
        }

        .form-group input,
        .form-group textarea {
            width: 100%;
            padding: 15px;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-size: 16px;
            transition: border-color 0.3s;
        }

        .form-group input:focus,
        .form-group textarea:focus {
            outline: none;
            border-color: #007bff;
            box-shadow: 0 0 0 2px rgba(0,123,255,0.25);
        }

        .form-group textarea {
            min-height: 120px;
            resize: vertical;
        }

        .image-upload {
            border: 2px dashed #ddd;
            border-radius: 5px;
            padding: 35px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
            margin-bottom: 20px;
        }

        .image-upload:hover {
            border-color: #007bff;
            background: #f8f9ff;
        }

        .image-upload input[type="file"] {
            display: none;
        }

        .image-preview {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            margin-top: 20px;
            min-height: 60px;
        }

        .image-item {
            position: relative;
            width: 120px;
            height: 120px;
            border-radius: 5px;
            overflow: hidden;
            border: 2px solid #ddd;
        }

        .image-item img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .image-item .remove-btn {
            position: absolute;
            top: 5px;
            right: 5px;
            background: rgba(255,0,0,0.8);
            color: white;
            border: none;
            border-radius: 50%;
            width: 25px;
            height: 25px;
            cursor: pointer;
            font-size: 14px;
        }

        .btn {
            padding: 15px 30px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
            transition: all 0.3s;
            margin-right: 15px;
            margin-bottom: 15px;
        }

        .btn-primary {
            background: #007bff;
            color: white;
        }

        .btn-primary:hover {
            background: #0056b3;
        }

        .btn-success {
            background: #28a745;
            color: white;
        }

        .btn-success:hover {
            background: #1e7e34;
        }

        .btn-secondary {
            background: #6c757d;
            color: white;
        }

        .btn-secondary:hover {
            background: #545b62;
        }

        .action-buttons {
            text-align: center;
            padding: 25px;
            border-top: 1px solid #dee2e6;
            background: #f8f9fa;
        }

        .section-group {
            border: 1px solid #ddd;
            border-radius: 5px;
            padding: 25px;
            margin-bottom: 25px;
        }

        .section-title {
            font-size: 20px;
            font-weight: 600;
            margin-bottom: 20px;
            color: #333;
            border-bottom: 2px solid #007bff;
            padding-bottom: 8px;
        }

        .deployment-info {
            background: #e7f3ff;
            border: 1px solid #b3d9ff;
            border-radius: 5px;
            padding: 20px;
            margin-bottom: 25px;
        }

        .deployment-info h3 {
            color: #0056b3;
            margin-bottom: 15px;
            font-size: 18px;
        }

        .preview-notice {
            background: #fff3cd;
            border: 1px solid #ffeaa7;
            border-radius: 5px;
            padding: 20px;
            margin-bottom: 25px;
        }

        .preview-content {
            background: #f8f9fa;
            padding: 25px;
            border-radius: 5px;
            line-height: 1.6;
        }

        .preview-content h3 {
            color: #333;
            margin-bottom: 15px;
        }

        .preview-content p {
            margin-bottom: 10px;
        }
    </style>
</head>
<body>
    <div class="editor-container">
        <div class="editor-header">
            <h1>个人主页可视化编辑器</h1>
            <p>在这里轻松编辑你的个人主页内容</p>
        </div>

        <div class="deployment-info">
            <h3>📝 使用说明</h3>
            <p><strong>编辑流程：</strong></p>
            <ol>
                <li>在"内容编辑"标签页修改文字内容</li>
                <li>在"图片管理"标签页上传图片</li>
                <li>在"预览效果"标签页查看编辑结果</li>
                <li>保存更改后，刷新主页面即可看到效果</li>
            </ol>
        </div>

        <div class="editor-tabs">
            <button class="tab-btn active" onclick="showTab('content')">内容编辑</button>
            <button class="tab-btn" onclick="showTab('images')">图片管理</button>
            <button class="tab-btn" onclick="showTab('preview')">预览效果</button>
        </div>

        <!-- 内容编辑标签页 -->
        <div id="content" class="tab-content active">
            <!-- 主页内容 -->
            <div class="section-group">
                <div class="section-title">主页信息</div>
                <div class="form-group">
                    <label>姓名</label>
                    <input type="text" id="name" value="徐定坤 (Xu Dingkun)">
                </div>
                <div class="form-group">
                    <label>职位描述</label>
                    <input type="text" id="title" value="生物化学与分子生物学硕士 | AI技术应用探索者">
                </div>
                <div class="form-group">
                    <label>个人简介</label>
                    <textarea id="intro">一位积极主动、充满抱负的武汉大学硕士研究生，在生物化学与分子生物学领域拥有扎实的基础。具备出色的组织领导能力，曾多次担任班长。抗压性强，能够独立负责并完成复杂的科研项目。致力于将计算机视觉(CV)和自然语言处理(NLP)等前沿技术应用于解决实际问题，渴望在充满挑战的岗位上创造价值。</textarea>
                </div>
                <div class="form-group">
                    <label>电话号码</label>
                    <input type="text" id="phone" value="150-3766-9832">
                </div>
                <div class="form-group">
                    <label>邮箱地址</label>
                    <input type="text" id="email" value="2022202040114@whu.edu.cn">
                </div>
            </div>

            <!-- 教育经历 -->
            <div class="section-group">
                <div class="section-title">教育经历</div>
                <div class="form-group">
                    <label>武汉大学经历</label>
                    <textarea id="whu-edu">武汉大学 (2022.09 – 2025.06)
学位: 生物化学与分子生物学 硕士
主修课程: 现代仪器分析, 表观遗传学, 蛋白质组学, 高级生物化学与分子生物学
荣誉: 武汉大学学业奖学金</textarea>
                </div>
                <div class="form-group">
                    <label>河南科技大学经历</label>
                    <textarea id="hnust-edu">河南科技大学 (2018.09 – 2022.06)
学位: 生物技术 本科
主修课程: 生物化学, 遗传学, 分子生物学, 生物信息学, 细胞工程, 酶工程
荣誉: 河南科技大学优秀学生干部、河南科技大学二等奖学金</textarea>
                </div>
            </div>

            <!-- 项目经历 -->
            <div class="section-group">
                <div class="section-title">项目/工作经历</div>
                <div class="form-group">
                    <label>华大集团工作经历</label>
                    <textarea id="work-exp">营销管培生 | 深圳华大集团 (2025.02 – 2025.03)
在营销部门全流程轮转，主要负责销售场景建立、高科技产品对接解惑及商务谈判等工作。</textarea>
                </div>
                <div class="form-group">
                    <label>OCR项目</label>
                    <textarea id="ocr-project">项目：基于OCR的化妆品用户反馈智能分析引擎
独立开发此智能引擎，旨在自动化处理电商平台的图片反馈，高效提取用户洞察。核心贡献: 使用Python (pytesseract, jieba) 构建了从图片文字识别、关键词提取到词云可视化 (wordcloud) 的完整工作流，并将手动分析效率提升了数倍。通过模块化重构和异常处理，保证了工具的健壮性与可移植性。</textarea>
                </div>
                <div class="form-group">
                    <label>AI视频项目</label>
                    <textarea id="ai-video-project">项目：AI视频生成工作流《古人的一生》
使用Coze平台设计并实现了一个复杂的AIGC工作流。此流程仅需输入一个名字，即可全自动地生成一部讲述古人生平的长视频，展现了在自动化和生成式AI领域的实践能力。</textarea>
                </div>
                <div class="form-group">
                    <label>湿实验自动化</label>
                    <textarea id="lab-automation">项目：湿实验自动化
作为负责人，利用R、Python及ChatGPT为实验结果分析赋能，将流程分析时间缩短至少2小时，并成功推广至全实验室使用。</textarea>
                </div>
                <div class="form-group">
                    <label>纳米发电装置</label>
                    <textarea id="nano-project">项目：新型高效纸基摩擦纳米发电装置 (2019.03-2019.07)
作为第一负责人，探索可穿戴设备生物发电的可能。主要负责项目任务分配、监督、组织讨论及最终汇报。</textarea>
                </div>
            </div>

            <!-- 技能爱好 -->
            <div class="section-group">
                <div class="section-title">技能与爱好</div>
                <div class="form-group">
                    <label>专业技能</label>
                    <textarea id="professional-skills">分子生物学: 精通Western-blot, qPCR, CRISPR-Cas9基因敲除系统。
细胞/病理学: 熟练掌握原代细胞培养、免疫荧光、石蜡包埋等技术。
动物实验: 具备丰富的小鼠饲养、灌流、腹腔注射及毛囊分离经验。</textarea>
                </div>
                <div class="form-group">
                    <label>技术与编程</label>
                    <textarea id="tech-skills">编程语言: 熟练使用 Python, R语言, Excel, PowerPoint, GraphPad。
语言能力: 雅思 6.0，大学英语六级(CET-6) 462分，普通话二级甲等。</textarea>
                </div>
                <div class="form-group">
                    <label>兴趣爱好</label>
                    <textarea id="hobbies">领导力: 长期担任班长，组织能力强。
社团活动: 曾任实验室生活委员、茶艺协会秘书部成员、学院合唱团成员等，积极参与校园生活。</textarea>
                </div>
            </div>
        </div>

        <!-- 图片管理标签页 -->
        <div id="images" class="tab-content">
            <div class="section-group">
                <div class="section-title">主页头像图片</div>
                <div class="image-upload" onclick="triggerFileUpload('home-images')">
                    <input type="file" id="home-images" multiple accept="image/*" onchange="handleImageUpload('home', this)">
                    <p>点击上传主页头像图片（可多选）</p>
                    <p style="font-size: 14px; color: #666;">支持 JPG, PNG, GIF 格式</p>
                </div>
                <div id="home-image-preview" class="image-preview">
                    <p style="color: #999; width: 100%; text-align: center;">暂无图片</p>
                </div>
            </div>

            <div class="section-group">
                <div class="section-title">教育经历图片</div>
                <div class="image-upload" onclick="triggerFileUpload('education-images')">
                    <input type="file" id="education-images" multiple accept="image/*" onchange="handleImageUpload('education', this)">
                    <p>📷 点击上传教育经历相关图片（可多选）</p>
                    <p style="font-size: 14px; color: #666;">支持 JPG, PNG, GIF 格式</p>
                </div>
                <div id="education-image-preview" class="image-preview">
                    <p style="color: #999; width: 100%; text-align: center;">暂无图片</p>
                </div>
            </div>

            <div class="section-group">
                <div class="section-title">项目展示图片</div>
                <div class="image-upload" onclick="triggerFileUpload('projects-images')">
                    <input type="file" id="projects-images" multiple accept="image/*" onchange="handleImageUpload('projects', this)">
                    <p>点击上传项目展示图片（可多选）</p>
                    <p style="font-size: 14px; color: #666;">支持 JPG, PNG, GIF 格式</p>
                </div>
                <div id="projects-image-preview" class="image-preview">
                    <p style="color: #999; width: 100%; text-align: center;">暂无图片</p>
                </div>
            </div>

            <div class="section-group">
                <div class="section-title">技能爱好图片</div>
                <div class="image-upload" onclick="triggerFileUpload('hobbies-images')">
                    <input type="file" id="hobbies-images" multiple accept="image/*" onchange="handleImageUpload('hobbies', this)">
                    <p>📷 点击上传技能爱好相关图片（可多选）</p>
                    <p style="font-size: 14px; color: #666;">支持 JPG, PNG, GIF 格式</p>
                </div>
                <div id="hobbies-image-preview" class="image-preview">
                    <p style="color: #999; width: 100%; text-align: center;">暂无图片</p>
                </div>
            </div>
        </div>

        <!-- 预览标签页 -->
        <div id="preview" class="tab-content">
            <div class="preview-notice">
                <strong>预览说明：</strong>这里显示你编辑的内容预览。保存更改后，刷新主页面即可看到实际效果。
            </div>
            
            <div class="section-group">
                <div class="section-title">当前编辑内容预览</div>
                <div id="content-preview" class="preview-content">
                    <p>保存更改后将显示预览内容...</p>
                </div>
            </div>

            <div class="section-group">
                <div class="section-title">操作说明</div>
                <p>编辑完成后：</p>
                <ol>
                    <li>点击"保存所有更改"按钮保存当前编辑</li>
                    <li>点击"打开主页面"按钮查看效果</li>
                    <li>如果看不到更新，请刷新主页面</li>
                </ol>
            </div>
        </div>

        <div class="action-buttons">
            <button class="btn btn-primary" onclick="saveChanges()">保存所有更改</button>
            <button class="btn btn-secondary" onclick="resetToDefault()">重置为默认</button>
            <button class="btn btn-success" onclick="openMainPage()">打开主页面</button>
        </div>
    </div>

    <script>
        // 标签页切换功能
        function showTab(tabName) {
            // 隐藏所有标签页内容
            document.querySelectorAll('.tab-content').forEach(content => {
                content.classList.remove('active');
            });
            
            // 移除所有标签按钮的激活状态
            document.querySelectorAll('.tab-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            
            // 显示选中的标签页
            document.getElementById(tabName).classList.add('active');
            
            // 激活对应的标签按钮
            event.target.classList.add('active');
        }

        // 触发文件上传
        function triggerFileUpload(inputId) {
            document.getElementById(inputId).click();
        }

        // 图片上传处理
        function handleImageUpload(section, input) {
            const files = input.files;
            const previewContainer = document.getElementById(`${section}-image-preview`);
            
            // 清除"暂无图片"提示
            if (previewContainer.querySelector('p')) {
                previewContainer.innerHTML = '';
            }
            
            // 存储图片的base64数据
            const imageUrls = [];
            
            for (let file of files) {
                if (file.type.startsWith('image/')) {
                    const reader = new FileReader();
                    reader.onload = function(e) {
                        const imageUrl = e.target.result;
                        imageUrls.push(imageUrl);
                        
                        const imageItem = document.createElement('div');
                        imageItem.className = 'image-item';
                        imageItem.innerHTML = `
                            <img src="${imageUrl}" alt="上传的图片">
                            <button class="remove-btn" onclick="removeImage(this, '${section}')">×</button>
                        `;
                        previewContainer.appendChild(imageItem);
                        
                        // 保存图片数据
                        saveImageData(section, imageUrls);
                    };
                    reader.readAsDataURL(file);
                }
            }
        }

        // 移除图片
        function removeImage(button, section) {
            button.parentElement.remove();
            
            // 如果没有图片了，显示提示
            const previewContainer = button.closest('.image-preview');
            if (previewContainer.children.length === 0) {
                previewContainer.innerHTML = '<p style="color: #999; width: 100%; text-align: center;">暂无图片</p>';
            }
            
            // 更新保存的图片数据
            const imageUrls = [];
            previewContainer.querySelectorAll('img').forEach(img => {
                imageUrls.push(img.src);
            });
            saveImageData(section, imageUrls);
        }

        // 保存图片数据
        function saveImageData(section, imageUrls) {
            const imageData = JSON.parse(localStorage.getItem('imageData') || '{}');
            imageData[section] = imageUrls;
            localStorage.setItem('imageData', JSON.stringify(imageData));
        }

        // 保存更改
        function saveChanges() {
            // 收集所有表单数据
            const formData = {
                name: document.getElementById('name').value,
                title: document.getElementById('title').value,
                intro: document.getElementById('intro').value,
                phone: document.getElementById('phone').value,
                email: document.getElementById('email').value,
                whuEdu: document.getElementById('whu-edu').value,
                hnustEdu: document.getElementById('hnust-edu').value,
                workExp: document.getElementById('work-exp').value,
                ocrProject: document.getElementById('ocr-project').value,
                aiVideoProject: document.getElementById('ai-video-project').value,
                labAutomation: document.getElementById('lab-automation').value,
                nanoProject: document.getElementById('nano-project').value,
                professionalSkills: document.getElementById('professional-skills').value,
                techSkills: document.getElementById('tech-skills').value,
                hobbies: document.getElementById('hobbies').value
            };

            // 保存到本地存储
            localStorage.setItem('personalWebsiteData', JSON.stringify(formData));
            
            // 更新预览内容
            updateContentPreview(formData);
            
            alert('更改已保存！现在可以打开主页面查看效果了。');
        }

        // 更新内容预览
        function updateContentPreview(data) {
            const previewContainer = document.getElementById('content-preview');
            previewContainer.innerHTML = `
                <h3>${data.name || '徐定坤 (Xu Dingkun)'}</h3>
                <p><em>${data.title || '生物化学与分子生物学硕士 | AI技术应用探索者'}</em></p>
                <p>${data.intro || '个人简介'}</p>
                <hr>
                <p><strong>联系方式：</strong></p>
                <p>电话: ${data.phone || '150-3766-9832'}</p>
                <p>邮箱: ${data.email || '2022202040114@whu.edu.cn'}</p>
                <hr>
                <p><strong>教育经历：</strong></p>
                <p>${data.whuEdu || '武汉大学经历'}</p>
                <p>${data.hnustEdu || '河南科技大学经历'}</p>
                <hr>
                <p><strong>项目经历：</strong></p>
                <p>${data.workExp || '工作经历'}</p>
                <p>${data.ocrProject || 'OCR项目'}</p>
                <p>${data.aiVideoProject || 'AI视频项目'}</p>
                <p>${data.labAutomation || '湿实验自动化'}</p>
                <p>${data.nanoProject || '纳米发电装置'}</p>
                <hr>
                <p><strong>技能爱好：</strong></p>
                <p>${data.professionalSkills || '专业技能'}</p>
                <p>${data.techSkills || '技术与编程'}</p>
                <p>${data.hobbies || '兴趣爱好'}</p>
            `;
        }

        // 打开主页面
        function openMainPage() {
            window.open('ai_studio_code.html', '_blank');
        }

        // 重置为默认
        function resetToDefault() {
            if (confirm('确定要重置所有内容吗？')) {
                localStorage.removeItem('personalWebsiteData');
                localStorage.removeItem('imageData');
                location.reload();
            }
        }

        // 页面加载时恢复保存的数据
        document.addEventListener('DOMContentLoaded', function() {
            const savedData = localStorage.getItem('personalWebsiteData');
            if (savedData) {
                const data = JSON.parse(savedData);
                // 恢复表单数据
                Object.keys(data).forEach(key => {
                    const element = document.getElementById(key.replace(/([A-Z])/g, '-$1').toLowerCase());
                    if (element) {
                        element.value = data[key];
                    }
                });
                
                // 更新预览
                updateContentPreview(data);
            }
            
            // 恢复图片数据
            const imageData = JSON.parse(localStorage.getItem('imageData') || '{}');
            Object.keys(imageData).forEach(section => {
                const imageUrls = imageData[section];
                if (imageUrls && imageUrls.length > 0) {
                    const previewContainer = document.getElementById(`${section}-image-preview`);
                    if (previewContainer) {
                        previewContainer.innerHTML = '';
                        imageUrls.forEach(imageUrl => {
                            const imageItem = document.createElement('div');
                            imageItem.className = 'image-item';
                            imageItem.innerHTML = `
                                <img src="${imageUrl}" alt="上传的图片">
                                <button class="remove-btn" onclick="removeImage(this, '${section}')">×</button>
                            `;
                            previewContainer.appendChild(imageItem);
                        });
                    }
                }
            });
        });
    </script>
</body>
</html>